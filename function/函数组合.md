## 函数组合
### 管道（pipeline）
在linux系统中，大家一定使用过管道（pipe）：
```bash
cat test.sh | grep -n 'echo'
```

`|`左边命令的输出将会作为右边命令的输入，这就构成了一条流水线：

{% mermaid %}
graph LR;
A["funcA(data)"]-- dataA -->B;
B["funcB(dataA)"]-- dataB -->C;
C["funcC(dataB)"]-->D((result));
{% endmermaid %}

所以，管道并不是一种技术实现，而是一种技术机制，下面我们在js中实现上面的流水线机制：
```js
function pipeline() {
  // 传入pipleline的会是一系列函数，亦即流水线上各个工段的加工期
  var funcs = Array.prototype.slice.call(arguments, arguments.length-1);
  var datas = Array.prototype.slice.call(arguments, arguments.length-1);
  return funcs.reduce(function(result, func) {
    return func(result);
  }, datas);
}

// 测试
function A(data) {
  return 2*data;
}

function B(data) {
  return -data;
}

function C(data) {
  return data+3;
}

pipeline(A,B,C,2);
```

再考虑另外一种流水线视角：
{% mermaid %}

{% endmermaid %}

相比于第一种流水线视角，在第二种视角中，我们的最后产出是一个新的数据加工器（函数）

### `_.compose`
